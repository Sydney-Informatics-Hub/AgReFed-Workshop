<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>AgReFed Data-Harvester - Session 3 - Creating a custom settings file and running a harvest</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../pydocs/p20-advanced.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
<script src="https://unpkg.com/@jupyter-widgets/html-manager@*/dist/embed-amd.js" crossorigin="anonymous"></script>


</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../images/logo_white.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">SIH-AgReFed Workshop</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../index.html" aria-current="page">
 <span class="menu-text"><i class="fa-solid fa-house-chimney" aria-hidden="true"></i></span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../pydocs/py00-workshop.html">
 <span class="menu-text"><i class="fa-brands fa-python" aria-hidden="true"></i> Python Workshop</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../rdocs/r00-workshop.html">
 <span class="menu-text"><i class="fa-brands fa-r-project" aria-hidden="true"></i> Workshop</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Session 3 - Creating a custom settings file and running a harvest</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/sih_logo.svg" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main">
    <a href="https://www.sydney.edu.au/research/facilities/sydney-informatics-hub.html" title="SIH Website" class="sidebar-tool px-1"><i class="bi bi-globe"></i></a>
</div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">Home</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../about.html" class="sidebar-item-text sidebar-link">About Us</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code-of-conduct.html" class="sidebar-item-text sidebar-link">Code of Conduct</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Settings_Overview.html" class="sidebar-item-text sidebar-link">YAML Overview</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../faq.html" class="sidebar-item-text sidebar-link"><i class="fa-solid fa-circle-question" aria-hidden="true"></i> FAQ</a>
  </div>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Python Workshop</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pydocs/py00-workshop.html" class="sidebar-item-text sidebar-link">Introduction</a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">Setting up</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pydocs/setup-python.html" class="sidebar-item-text sidebar-link">Python Environment</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pydocs/setup-gee.html" class="sidebar-item-text sidebar-link">Google Earth Engine</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pydocs/p10-basic.html" class="sidebar-item-text sidebar-link"><i class="fa-solid fa-hammer" aria-hidden="true"></i> 1: Intro and Basic Usage</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pydocs/p20-advanced.html" class="sidebar-item-text sidebar-link"><i class="fa-solid fa-hammer" aria-hidden="true"></i> 2: Advanced harvest configuration</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pydocs/p30-technical.html" class="sidebar-item-text sidebar-link active"><i class="fa-solid fa-hammer" aria-hidden="true"></i> 3: Custom Workflows</a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">R Workshop</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../rdocs/r00-workshop.html" class="sidebar-item-text sidebar-link">Introduction</a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">Setting up</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../rdocs/r03-google-earth-engine.html" class="sidebar-item-text sidebar-link">Google Earth Engine</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../rdocs/r01-setup-cloud.html" class="sidebar-item-text sidebar-link">RStudio Cloud</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../rdocs/r02-setup-desktop.html" class="sidebar-item-text sidebar-link">RStudio Desktop</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../rdocs/r99-troubleshooting.html" class="sidebar-item-text sidebar-link"><i class="fa-solid fa-life-ring" aria-hidden="true"></i> Troubleshooting</a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../rdocs/r20-introduction.html" class="sidebar-item-text sidebar-link"><i class="fa-solid fa-hammer" aria-hidden="true"></i> 1: Introduction</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../rdocs/r30-basic.html" class="sidebar-item-text sidebar-link"><i class="fa-solid fa-hammer" aria-hidden="true"></i> 2: Custom Workflows</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../rdocs/r40-advanced.html" class="sidebar-item-text sidebar-link"><i class="fa-solid fa-hammer" aria-hidden="true"></i> 3: Advanced Features</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#import-libraries" id="toc-import-libraries" class="nav-link active" data-scroll-target="#import-libraries">Import libraries</a></li>
  <li><a href="#diy-settings-configuration-file" id="toc-diy-settings-configuration-file" class="nav-link" data-scroll-target="#diy-settings-configuration-file">DIY settings configuration file</a></li>
  <li><a href="#setup-dataset-of-interest" id="toc-setup-dataset-of-interest" class="nav-link" data-scroll-target="#setup-dataset-of-interest">Setup dataset of interest</a></li>
  <li><a href="#download-and-process-data-from-api-sources" id="toc-download-and-process-data-from-api-sources" class="nav-link" data-scroll-target="#download-and-process-data-from-api-sources">Download and process data from API sources</a>
  <ul class="collapse">
  <li><a href="#slga-download" id="toc-slga-download" class="nav-link" data-scroll-target="#slga-download">SLGA Download</a></li>
  <li><a href="#silo-download" id="toc-silo-download" class="nav-link" data-scroll-target="#silo-download">SILO Download</a></li>
  <li><a href="#dea-download" id="toc-dea-download" class="nav-link" data-scroll-target="#dea-download">DEA Download</a></li>
  <li><a href="#dem-download" id="toc-dem-download" class="nav-link" data-scroll-target="#dem-download">DEM Download</a></li>
  <li><a href="#landscape" id="toc-landscape" class="nav-link" data-scroll-target="#landscape">Landscape</a></li>
  <li><a href="#radiometrics" id="toc-radiometrics" class="nav-link" data-scroll-target="#radiometrics">Radiometrics</a></li>
  </ul></li>
  <li><a href="#google-earth-engine" id="toc-google-earth-engine" class="nav-link" data-scroll-target="#google-earth-engine">Google Earth Engine</a>
  <ul class="collapse">
  <li><a href="#collect-and-preprocess-earth-engine-data" id="toc-collect-and-preprocess-earth-engine-data" class="nav-link" data-scroll-target="#collect-and-preprocess-earth-engine-data">Collect and preprocess Earth Engine Data</a></li>
  <li><a href="#download" id="toc-download" class="nav-link" data-scroll-target="#download">Download</a></li>
  </ul></li>
  <li><a href="#save-the-final-log-or-start-from-here-to-re-load-it-in." id="toc-save-the-final-log-or-start-from-here-to-re-load-it-in." class="nav-link" data-scroll-target="#save-the-final-log-or-start-from-here-to-re-load-it-in.">Save the final log or start from here to re-load it in.</a></li>
  <li><a href="#points-extraction-from-downloadedprocessed-data" id="toc-points-extraction-from-downloadedprocessed-data" class="nav-link" data-scroll-target="#points-extraction-from-downloadedprocessed-data">Points extraction from downloaded/processed data</a>
  <ul class="collapse">
  <li><a href="#inspect-result-dataframe" id="toc-inspect-result-dataframe" class="nav-link" data-scroll-target="#inspect-result-dataframe">Inspect result dataframe</a></li>
  <li><a href="#save-the-results-table" id="toc-save-the-results-table" class="nav-link" data-scroll-target="#save-the-results-table">Save the results table</a></li>
  <li><a href="#overview-plot-of-all-processed-rasters" id="toc-overview-plot-of-all-processed-rasters" class="nav-link" data-scroll-target="#overview-plot-of-all-processed-rasters">Overview plot of all processed rasters</a></li>
  </ul></li>
  <li><a href="#done" id="toc-done" class="nav-link" data-scroll-target="#done">Done!</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/Sydney-Informatics-Hub/AgReFed-Workshop/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Session 3 - Creating a custom settings file and running a harvest</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<hr>
<p>The Data Harvester enables researchers with reusable workflows for automatic data extraction from a range of data sources including spatial-temporal processing into useable formats. User provided data is auto-completed with a suitable set of spatial- and temporal-aligned covariates as a ready-made dataset for machine learning and agriculture models. In addition, all requested data layer maps are automatically extracted and aligned for a specific region and time period.</p>
<p>The main workflow of the Harvester is as follows:</p>
<ol type="1">
<li>Options and user settings (e.g., data layer selections, spatial coverage, temporal constraints, i/o directory names) are defined by the user in the notebook settings menu or can be loaded with a settings yaml file (e.g., settings/settings_v0.2_saved.yaml). All settings are also saved in a yaml file for reusability.</li>
<li>The notebook imports settings and all Python modules that include functionality to download and extract data for each data source. After settings are read in, checked, and processed into valid data retrieval (API) queries, all selected data layers are sequentially downloaded and then processed into a clean dataframe table and co-registered raster maps. The entire workflow can be run either completely automatically or individually by selecting only certain process parts in the Notebook.</li>
</ol>
<p>Additional data sources can be best added by writing the API handlers and extraction functionalities as separate Python module, which are then imported by the Notebook. Currently the following data sources are supported by the following modules:</p>
<ul>
<li>‘getdata_slga.py’: Soil Data from Soil and Landscape Grid of Australia (SLGA)</li>
<li>‘getdata_landscape’: Landscape data from Soil and Landscape Grid of Australia (SLGA)</li>
<li>‘getdata_silo.py’: Climate Data from SILO</li>
<li>’getdata_dem.py: ’National Digital Elevation Model (DEM) 1 Second plus Slope and Apect calculation</li>
<li>’getdata_dea_nci.py: ’Digital Earth Australia’s (DEA) Geoscience Earth Observations via NCI server</li>
<li>’getdata_dea.py: ’Digital Earth Australia’s (DEA) Geoscience Earth Observations via Open Web Service server provided by DEA</li>
<li>‘getdata_radiometric.py’: Geoscience Australia National Geophysical Compilation Sub-collection Radiometrics</li>
<li>‘eeharvest’: Google Earth Engine API integration handler, note this is its own package.</li>
</ul>
<section id="import-libraries" class="level2">
<h2 class="anchored" data-anchor-id="import-libraries">Import libraries</h2>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load general python libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> datetime</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> os.path <span class="im">import</span> exists</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pathlib <span class="im">import</span> Path</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> geopandas <span class="im">as</span> gpd</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> types <span class="im">import</span> SimpleNamespace</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Load geodata_harvester modules/functions/packages</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co"># See each python file for detailed options</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> geodata_harvester <span class="im">as</span> gh</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> eeharvest</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> geodata_harvester <span class="im">import</span> utils</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> geodata_harvester.arc2meter <span class="im">import</span> calc_arc2meter</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> geodata_harvester.utils <span class="im">import</span> init_logtable, update_logtable</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> geodata_harvester.widgets <span class="im">import</span> harvesterwidgets <span class="im">as</span> hw</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="diy-settings-configuration-file" class="level2">
<h2 class="anchored" data-anchor-id="diy-settings-configuration-file">DIY settings configuration file</h2>
<p>Let’s start with loading all user settings and options as specified in the settings file. For this example we provide a template file <code>data/settings_session1.yaml</code>. You can use the default settings in this file. Or you may changed the file directly, or point to a new file. Or override any of the defaults throughout this notebook. This is the core piece of the Data Harvester that makes the data collection reproduceable. You could give the settings file to someone else and they will end up with the same data collections.</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Build your own settings file with interactive widgets</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>tab_nest, w_settings, names_settings, w_load <span class="op">=</span> hw.gen_maintab()</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>display(tab_nest) </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>time.sleep(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"f537d3c90c4c4cb594ec4c84efd1362b","version_major":2,"version_minor":0}
</script>
</div>
</div>
<p>When we have finished either loading in the settings file or choosing custom options we can validate the settings with the below code snippet:</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> w_load.value <span class="op">==</span> <span class="va">None</span>:</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    dict_settings <span class="op">=</span> hw.eval_widgets(w_settings, names_settings)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convert settings from dictionary to SimpleNamespace (so all settings names available as settings.xxxname)</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    settings <span class="op">=</span> SimpleNamespace(<span class="op">**</span>dict_settings)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check if output path exists, if not create it:</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    os.makedirs(settings.outpath, exist_ok<span class="op">=</span><span class="va">True</span>) </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Save settings to yaml file:</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    fname_settings <span class="op">=</span> os.path.join(settings.outpath, <span class="st">'settings_saved.yaml'</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    hw.save_dict_settings(dict_settings, fname_settings)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f'Settings loaded from </span><span class="sc">{</span>w_load<span class="sc">.</span>value<span class="sc">}</span><span class="ss">'</span>)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    settings <span class="op">=</span> hw.load_settings(w_load.value)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Print settings</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>hw.print_settings(settings)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Settings loaded from /home/nbutter/Projects/testing/AgReFed-Workshop/data/settings_session3.yaml
Settings loaded:
----------------
settings.infile : data/example-site_llara.csv
settings.outpath : output/
settings.colname_lat : Lat
settings.colname_lng : Long
settings.target_bbox : [149.769345, -30.335861, 149.949173, -30.206271]
settings.target_res : 6.0
settings.date_min : 2022-10-01
settings.date_max : 2022-10-30
settings.time_intervals : 4
settings.time_buffer : 7
settings.target_sources:
   'DEA': ['landsat_barest_earth', 'ga_ls_ard_3']
   'DEM': ['DEM']
   'Landscape': ['Slope', 'Aspect', 'Relief_300m']
   'Radiometric': ['radmap2019_grid_dose_terr_awags_rad_2019', 'radmap2019_grid_dose_terr_filtered_awags_rad_2019']
   'SILO': {'daily_rain': 'mean', 'max_temp': 'median', 'min_temp': 'median', 'monthly_rain': 'sum'}
   'SLGA': {'Bulk_Density': ['0-5cm'], 'Clay': ['0-5cm']}
   'GEE': {'preprocess': {'collection': 'LANDSAT/LC09/C02/T1_L2', 'coords': None, 'date': datetime.date(2021, 1, 1), 'end_date': datetime.date(2021, 12, 31), 'buffer': None, 'bound': None, 'mask_clouds': True, 'reduce': 'median', 'spectral': 'NDVI'}, 'download': {'bands': 'NDVI', 'scale': 100, 'format': 'tif', 'overwrite': False}}</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For the automated people you can also run something like...</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co"># load_settingsfilename = 'data/settings_session1.yaml'</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># settings = hw.load_settings(load_settingsfilename)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="setup-dataset-of-interest" class="level2">
<h2 class="anchored" data-anchor-id="setup-dataset-of-interest">Setup dataset of interest</h2>
<p>Here we are reading in the point locations for which we want to extract data. A custom bounding box for which to extract raster data can be set in the settings file. If no bounding box provided, rasters are extracted for the region given by the point location extent plus an additional padding of 0.05 deg in Lat/Long (see code below).</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load in the dataset defining our location of interest as a geopandas dataframe</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>gdfpoints <span class="op">=</span> gpd.read_file(settings.infile)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Assing the data to well-named variables</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>lngs <span class="op">=</span> gdfpoints[settings.colname_lng].astype(<span class="bu">float</span>)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>lats <span class="op">=</span> gdfpoints[settings.colname_lat].astype(<span class="bu">float</span>)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the data looks reasonable</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>gdfpoints</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Lat</th>
      <th>Long</th>
      <th>geometry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-30.264663</td>
      <td>149.85268</td>
      <td>None</td>
    </tr>
    <tr>
      <th>1</th>
      <td>-30.265302</td>
      <td>149.884838</td>
      <td>None</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-30.265302</td>
      <td>149.884838</td>
      <td>None</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-30.278542</td>
      <td>149.838791</td>
      <td>None</td>
    </tr>
    <tr>
      <th>4</th>
      <td>-30.275437</td>
      <td>149.830843</td>
      <td>None</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>77</th>
      <td>-30.268262</td>
      <td>149.87615</td>
      <td>None</td>
    </tr>
    <tr>
      <th>78</th>
      <td>-30.257031</td>
      <td>149.880983</td>
      <td>None</td>
    </tr>
    <tr>
      <th>79</th>
      <td>-30.258505</td>
      <td>149.891118</td>
      <td>None</td>
    </tr>
    <tr>
      <th>80</th>
      <td>-30.261989</td>
      <td>149.884329</td>
      <td>None</td>
    </tr>
    <tr>
      <th>81</th>
      <td>-30.264476</td>
      <td>149.899156</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
<p>82 rows × 3 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Info: Selected bounding box: </span><span class="sc">{</span>settings<span class="sc">.</span>target_bbox<span class="sc">}</span><span class="ss">'</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Estimate resolution in meters:</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>lat_center <span class="op">=</span> (settings.target_bbox[<span class="dv">1</span>]<span class="op">+</span>settings.target_bbox[<span class="dv">3</span>])<span class="op">/</span><span class="dv">2</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>xres_meters, yres_meters <span class="op">=</span> calc_arc2meter(settings.target_res, lat_center)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Info: </span><span class="sc">{</span>settings<span class="sc">.</span>target_res<span class="sc">}</span><span class="ss"> arcsec resolution corresponds to </span><span class="sc">{</span>xres_meters<span class="sc">:.1f}</span><span class="ss">m x </span><span class="sc">{</span>yres_meters<span class="sc">:.1f}</span><span class="ss">m in x,y direction respectively (at Latitude: </span><span class="sc">{</span>lat_center<span class="sc">:.2f}</span><span class="ss">).'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Info: Selected bounding box: [149.769345, -30.335861, 149.949173, -30.206271]
Info: 6.0 arcsec resolution corresponds to 160.2m x 185.2m in x,y direction respectively (at Latitude: -30.27).</code></pre>
</div>
</div>
</section>
<section id="download-and-process-data-from-api-sources" class="level2">
<h2 class="anchored" data-anchor-id="download-and-process-data-from-api-sources">Download and process data from API sources</h2>
<p>From here we automatically download and process sequentially a range of data sources as specified in the settings file (see next subsections: SLGA, SILO, DEA, DEM). Note that you may retrieve info and parameter input options for any function easily by running a function/method with a preceeding ‘?’, e.g:</p>
<pre><code>?getdata_slga.get_slga_layers
?utils</code></pre>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Initiate a dataframe for logging all data output names and layer titles.</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that the log table is later updated with update_logtable(), </span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># which also instantly saves a copy of the table of the current status.</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>df_log <span class="op">=</span> init_logtable()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="slga-download" class="level3">
<h3 class="anchored" data-anchor-id="slga-download">SLGA Download</h3>
<p>Here we download all requested data layers from the Soil and Landscape Grid of Australia (SLGA) for the given bounding box. Note that for this example we select the top soil (0 - 5cm) only. Optionally other layers and depths including confidence intervals can be extracted as well; for more details and options see getdata_slga.py.</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># We can set the input options for each function call, and additional parameters may be set</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co"># too. Check the documentation of each function for full list of options.</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>depth_min, depth_max <span class="op">=</span> gh.getdata_slga.identifier2depthbounds(<span class="bu">list</span>(settings.target_sources[<span class="st">'SLGA'</span>].values())[<span class="dv">0</span>])</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>slga_layernames <span class="op">=</span> <span class="bu">list</span>(settings.target_sources[<span class="st">'SLGA'</span>].keys())</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>fnames_out_slga <span class="op">=</span> gh.getdata_slga.get_slga_layers(</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    slga_layernames, </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    settings.target_bbox, </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    settings.outpath, </span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    depth_min <span class="op">=</span> depth_min, </span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    depth_max<span class="op">=</span> depth_max, </span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    get_ci <span class="op">=</span> <span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>⚑ SLGA_Bulk_Density_0-5cm.tif already exists, skipping download
⚑ SLGA_Bulk_Density_0-5cm_5percentile.tif already exists, skipping download
⚑ SLGA_Bulk_Density_0-5cm_95percentile.tif already exists, skipping download
⚑ SLGA_Clay_0-5cm.tif already exists, skipping download
⚑ SLGA_Clay_0-5cm_5percentile.tif already exists, skipping download
⚑ SLGA_Clay_0-5cm_95percentile.tif already exists, skipping download</code></pre>
</div>
</div>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add download info to log dataframe</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>df_log <span class="op">=</span> update_logtable(</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    df_log, </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    fnames_out_slga, </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    slga_layernames, </span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'SLGA'</span>, </span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    settings, </span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    layertitles <span class="op">=</span> [], loginfos <span class="op">=</span> <span class="st">'downloaded'</span>)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>df_log</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>layername</th>
      <th>agfunction</th>
      <th>dataset</th>
      <th>layertitle</th>
      <th>filename_out</th>
      <th>loginfo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Bulk_Density</td>
      <td>0-5cm</td>
      <td>SLGA</td>
      <td>Bulk_Density_0-5cm</td>
      <td>output/SLGA_Bulk_Density_0-5cm.tif</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Clay</td>
      <td>0-5cm</td>
      <td>SLGA</td>
      <td>Clay_0-5cm</td>
      <td>output/SLGA_Clay_0-5cm.tif</td>
      <td>downloaded</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="silo-download" class="level3">
<h3 class="anchored" data-anchor-id="silo-download">SILO Download</h3>
<p>Here we download climate data layers from SILO and extract raster for the given bounding box and year. For more details see getdata_silo.py</p>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Each data-source must be handled differently (as the data is stored in different ways)</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Here we must get each layer, one by one. The simplest way is to loop through them.</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Get data for each layer</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>outpath <span class="op">=</span> settings.outpath<span class="op">+</span><span class="st">'_silo'</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>silo_layernames <span class="op">=</span> <span class="bu">list</span>(settings.target_sources[<span class="st">'SILO'</span>].keys())</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co"># run the download</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>fnames_out_silo <span class="op">=</span> gh.getdata_silo.get_SILO_layers(</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    silo_layernames, </span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    settings.date_min, </span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    settings.date_max,</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    outpath, </span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    bbox <span class="op">=</span> settings.target_bbox, </span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    format_out <span class="op">=</span> <span class="st">'tif'</span>)</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add download info to log dataframe</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TBD</span><span class="co"> need to be tested for multiple years and not only one</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">len</span>(fnames_out_silo) <span class="op">&gt;</span> <span class="bu">len</span>(silo_layernames):</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># </span><span class="al">TBD</span><span class="co"> Temporary solution for multiple years:</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>    nyears <span class="op">=</span> <span class="bu">int</span>(<span class="bu">len</span>(fnames_out_silo)<span class="op">/</span><span class="bu">len</span>(silo_layernames))</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>    silo_layernames <span class="op">=</span> silo_layernames <span class="op">*</span> nyears</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>df_log <span class="op">=</span> update_logtable(df_log, fnames_out_silo, silo_layernames, <span class="st">'SILO'</span>, settings, layertitles <span class="op">=</span> [], loginfos <span class="op">=</span> <span class="st">'downloaded'</span>)</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>df_log</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>⊙ Downloading daily_rain for 2022 9.0s                                                                                  
⊙ Downloading max_temp for 2022 8.7s                                                                                    
⊙ Downloading min_temp for 2022 10.1s                                                                                   
⊙ Downloading monthly_rain for 2022 0.7s                                                                                </code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="10">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>layername</th>
      <th>agfunction</th>
      <th>dataset</th>
      <th>layertitle</th>
      <th>filename_out</th>
      <th>loginfo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Bulk_Density</td>
      <td>0-5cm</td>
      <td>SLGA</td>
      <td>Bulk_Density_0-5cm</td>
      <td>output/SLGA_Bulk_Density_0-5cm.tif</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Clay</td>
      <td>0-5cm</td>
      <td>SLGA</td>
      <td>Clay_0-5cm</td>
      <td>output/SLGA_Clay_0-5cm.tif</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>2</th>
      <td>daily_rain</td>
      <td>mean</td>
      <td>SILO</td>
      <td>daily_rain_mean</td>
      <td>output/_silo/silo_daily_rain_2022-10-01-2022-1...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>3</th>
      <td>max_temp</td>
      <td>median</td>
      <td>SILO</td>
      <td>max_temp_median</td>
      <td>output/_silo/silo_max_temp_2022-10-01-2022-10-...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>4</th>
      <td>min_temp</td>
      <td>median</td>
      <td>SILO</td>
      <td>min_temp_median</td>
      <td>output/_silo/silo_min_temp_2022-10-01-2022-10-...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>5</th>
      <td>monthly_rain</td>
      <td>sum</td>
      <td>SILO</td>
      <td>monthly_rain_sum</td>
      <td>output/_silo/silo_monthly_rain_2022-10-01-2022...</td>
      <td>downloaded</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="dea-download" class="level3">
<h3 class="anchored" data-anchor-id="dea-download">DEA Download</h3>
<p>Here we download satellite data from Digital Earth Australia (DEA) within the given bounding box and for all available image capture dates that are available within the specified year(s). For more details see getdata_dea.py or getdata_dea_nci .py</p>
<div class="cell" data-scrolled="true" data-execution_count="11">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>dea_layernames <span class="op">=</span> settings.target_sources[<span class="st">'DEA'</span>]</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># These are multiple files, so we put them in a subdirectory to make subsequent processing easier.</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>outpath_dea <span class="op">=</span> os.path.join(settings.outpath,<span class="st">'mvp_dea'</span>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>outfnames <span class="op">=</span> gh.getdata_dea.get_dea_layers_daterange(</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    dea_layernames, </span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    settings.date_min,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    settings.date_max,</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>    settings.target_bbox, </span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>    settings.target_res, </span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>    outpath_dea, </span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>    crs <span class="op">=</span> <span class="st">'EPSG:4326'</span>, </span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>    format_out <span class="op">=</span> <span class="st">'GeoTIFF'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>⊙ Downloading landsat_barest_earth.tif for None 2.6s                                                                    
⊙ Downloading ga_ls_ard_3.tif for 2022-10-01T00:00:00.000Z 0.3s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-02T00:00:00.000Z 0.2s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-03T00:00:00.000Z 0.4s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-04T00:00:00.000Z 0.5s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-05T00:00:00.000Z 2.0s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-06T00:00:00.000Z 0.2s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-07T00:00:00.000Z 0.2s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-08T00:00:00.000Z 0.2s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-09T00:00:00.000Z 0.2s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-10T00:00:00.000Z 0.2s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-11T00:00:00.000Z 0.3s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-12T00:00:00.000Z 2.1s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-13T00:00:00.000Z 0.2s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-14T00:00:00.000Z 0.3s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-15T00:00:00.000Z 0.3s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-16T00:00:00.000Z 0.3s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-17T00:00:00.000Z 0.2s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-18T00:00:00.000Z 0.2s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-19T00:00:00.000Z 0.3s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-20T00:00:00.000Z 0.3s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-21T00:00:00.000Z 2.1s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-22T00:00:00.000Z 0.2s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-23T00:00:00.000Z 0.2s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-24T00:00:00.000Z 0.3s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-25T00:00:00.000Z 0.3s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-26T00:00:00.000Z 0.2s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-27T00:00:00.000Z 0.2s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-28T00:00:00.000Z 2.3s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-29T00:00:00.000Z 0.3s                                                         
⊙ Downloading ga_ls_ard_3.tif for 2022-10-30T00:00:00.000Z 0.3s                                                         </code></pre>
</div>
</div>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># We must do some annoying Python manipulations here, </span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co"># simply to get things into the correct format for our logfile</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>layer_list <span class="op">=</span> []</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> layername <span class="kw">in</span> dea_layernames:</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> <span class="bu">sum</span>(layername <span class="kw">in</span> s <span class="cf">for</span> s <span class="kw">in</span> outfnames)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    l <span class="op">=</span> [layername]<span class="op">*</span>s</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    layer_list.append(l)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>layer_list  <span class="op">=</span> <span class="bu">sum</span>(layer_list, [])</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>layer_titles <span class="op">=</span> [os.path.splitext(x)[<span class="dv">0</span>].split(<span class="st">'/'</span>)[<span class="op">-</span><span class="dv">1</span>] <span class="cf">for</span> x <span class="kw">in</span> outfnames]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add extracted data info to log table</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>df_log <span class="op">=</span> update_logtable(</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    df_log, </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    outfnames, </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    layer_titles, </span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'DEA'</span>, </span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    settings, </span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    layertitles <span class="op">=</span> layer_titles, </span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    loginfos <span class="op">=</span> <span class="st">'processed'</span>,force<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="co">#print(df_log.layertitle)</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>df_log</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>layername</th>
      <th>agfunction</th>
      <th>dataset</th>
      <th>layertitle</th>
      <th>filename_out</th>
      <th>loginfo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Bulk_Density</td>
      <td>0-5cm</td>
      <td>SLGA</td>
      <td>Bulk_Density_0-5cm</td>
      <td>output/SLGA_Bulk_Density_0-5cm.tif</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Clay</td>
      <td>0-5cm</td>
      <td>SLGA</td>
      <td>Clay_0-5cm</td>
      <td>output/SLGA_Clay_0-5cm.tif</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>2</th>
      <td>daily_rain</td>
      <td>mean</td>
      <td>SILO</td>
      <td>daily_rain_mean</td>
      <td>output/_silo/silo_daily_rain_2022-10-01-2022-1...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>3</th>
      <td>max_temp</td>
      <td>median</td>
      <td>SILO</td>
      <td>max_temp_median</td>
      <td>output/_silo/silo_max_temp_2022-10-01-2022-10-...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>4</th>
      <td>min_temp</td>
      <td>median</td>
      <td>SILO</td>
      <td>min_temp_median</td>
      <td>output/_silo/silo_min_temp_2022-10-01-2022-10-...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>5</th>
      <td>monthly_rain</td>
      <td>sum</td>
      <td>SILO</td>
      <td>monthly_rain_sum</td>
      <td>output/_silo/silo_monthly_rain_2022-10-01-2022...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>6</th>
      <td>landsat_barest_earth</td>
      <td>None</td>
      <td>DEA</td>
      <td>landsat_barest_earth</td>
      <td>output/mvp_dea/landsat_barest_earth.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>7</th>
      <td>ga_ls_ard_3_2022-9-30</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-9-30</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-9-30.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>8</th>
      <td>ga_ls_ard_3_2022-10-1</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-1</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-1.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>9</th>
      <td>ga_ls_ard_3_2022-10-2</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-2</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-2.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>10</th>
      <td>ga_ls_ard_3_2022-10-3</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-3</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-3.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>11</th>
      <td>ga_ls_ard_3_2022-10-4</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-4</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-4.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>12</th>
      <td>ga_ls_ard_3_2022-10-5</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-5</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-5.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>13</th>
      <td>ga_ls_ard_3_2022-10-6</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-6</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-6.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>14</th>
      <td>ga_ls_ard_3_2022-10-7</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-7</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-7.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>15</th>
      <td>ga_ls_ard_3_2022-10-8</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-8</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-8.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>16</th>
      <td>ga_ls_ard_3_2022-10-9</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-9</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-9.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>17</th>
      <td>ga_ls_ard_3_2022-10-10</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-10</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-10.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>18</th>
      <td>ga_ls_ard_3_2022-10-11</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-11</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-11.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>19</th>
      <td>ga_ls_ard_3_2022-10-12</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-12</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-12.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>20</th>
      <td>ga_ls_ard_3_2022-10-13</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-13</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-13.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>21</th>
      <td>ga_ls_ard_3_2022-10-14</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-14</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-14.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>22</th>
      <td>ga_ls_ard_3_2022-10-15</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-15</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-15.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>23</th>
      <td>ga_ls_ard_3_2022-10-16</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-16</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-16.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>24</th>
      <td>ga_ls_ard_3_2022-10-17</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-17</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-17.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>25</th>
      <td>ga_ls_ard_3_2022-10-18</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-18</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-18.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>26</th>
      <td>ga_ls_ard_3_2022-10-19</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-19</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-19.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>27</th>
      <td>ga_ls_ard_3_2022-10-20</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-20</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-20.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>28</th>
      <td>ga_ls_ard_3_2022-10-21</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-21</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-21.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>29</th>
      <td>ga_ls_ard_3_2022-10-22</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-22</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-22.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>30</th>
      <td>ga_ls_ard_3_2022-10-23</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-23</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-23.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>31</th>
      <td>ga_ls_ard_3_2022-10-24</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-24</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-24.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>32</th>
      <td>ga_ls_ard_3_2022-10-25</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-25</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-25.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>33</th>
      <td>ga_ls_ard_3_2022-10-26</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-26</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-26.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>34</th>
      <td>ga_ls_ard_3_2022-10-27</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-27</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-27.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>35</th>
      <td>ga_ls_ard_3_2022-10-28</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-28</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-28.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>36</th>
      <td>ga_ls_ard_3_2022-10-29</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-29</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-29.tif</td>
      <td>processed</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="dem-download" class="level3">
<h3 class="anchored" data-anchor-id="dem-download">DEM Download</h3>
<p>Here we download and extract the National Digital Elevation Model (DEM), and also generate slope and aspect rasters from the extracted DEM. For more details see getdata_dem.py</p>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>outpath <span class="op">=</span> os.path.join(settings.outpath, <span class="st">"mvp_dem"</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>dem_layernames <span class="op">=</span> settings.target_sources[<span class="st">'DEM'</span>]</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>outfnames <span class="op">=</span> gh.getdata_dem.get_dem_layers(dem_layernames, outpath, settings.target_bbox, settings.target_res)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Add extracted data to log dataframe</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>df_log <span class="op">=</span> update_logtable(</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>    df_log, </span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    outfnames, </span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>    dem_layernames, </span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'DEM'</span>, </span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>    settings, </span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>    layertitles <span class="op">=</span> dem_layernames,</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>    loginfos <span class="op">=</span> <span class="st">'downloaded'</span>)</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>df_log</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>⊙ Retrieving coverage from WCS server 3.6s                                                                              
⊙ Downloading DEM_SRTM_1_Second_Hydro_Enforced_2023_01_31.tif 1.0s                                                      </code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="14">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>layername</th>
      <th>agfunction</th>
      <th>dataset</th>
      <th>layertitle</th>
      <th>filename_out</th>
      <th>loginfo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Bulk_Density</td>
      <td>0-5cm</td>
      <td>SLGA</td>
      <td>Bulk_Density_0-5cm</td>
      <td>output/SLGA_Bulk_Density_0-5cm.tif</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Clay</td>
      <td>0-5cm</td>
      <td>SLGA</td>
      <td>Clay_0-5cm</td>
      <td>output/SLGA_Clay_0-5cm.tif</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>2</th>
      <td>daily_rain</td>
      <td>mean</td>
      <td>SILO</td>
      <td>daily_rain_mean</td>
      <td>output/_silo/silo_daily_rain_2022-10-01-2022-1...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>3</th>
      <td>max_temp</td>
      <td>median</td>
      <td>SILO</td>
      <td>max_temp_median</td>
      <td>output/_silo/silo_max_temp_2022-10-01-2022-10-...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>4</th>
      <td>min_temp</td>
      <td>median</td>
      <td>SILO</td>
      <td>min_temp_median</td>
      <td>output/_silo/silo_min_temp_2022-10-01-2022-10-...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>5</th>
      <td>monthly_rain</td>
      <td>sum</td>
      <td>SILO</td>
      <td>monthly_rain_sum</td>
      <td>output/_silo/silo_monthly_rain_2022-10-01-2022...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>6</th>
      <td>landsat_barest_earth</td>
      <td>None</td>
      <td>DEA</td>
      <td>landsat_barest_earth</td>
      <td>output/mvp_dea/landsat_barest_earth.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>7</th>
      <td>ga_ls_ard_3_2022-9-30</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-9-30</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-9-30.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>8</th>
      <td>ga_ls_ard_3_2022-10-1</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-1</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-1.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>9</th>
      <td>ga_ls_ard_3_2022-10-2</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-2</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-2.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>10</th>
      <td>ga_ls_ard_3_2022-10-3</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-3</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-3.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>11</th>
      <td>ga_ls_ard_3_2022-10-4</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-4</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-4.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>12</th>
      <td>ga_ls_ard_3_2022-10-5</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-5</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-5.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>13</th>
      <td>ga_ls_ard_3_2022-10-6</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-6</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-6.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>14</th>
      <td>ga_ls_ard_3_2022-10-7</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-7</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-7.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>15</th>
      <td>ga_ls_ard_3_2022-10-8</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-8</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-8.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>16</th>
      <td>ga_ls_ard_3_2022-10-9</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-9</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-9.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>17</th>
      <td>ga_ls_ard_3_2022-10-10</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-10</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-10.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>18</th>
      <td>ga_ls_ard_3_2022-10-11</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-11</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-11.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>19</th>
      <td>ga_ls_ard_3_2022-10-12</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-12</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-12.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>20</th>
      <td>ga_ls_ard_3_2022-10-13</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-13</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-13.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>21</th>
      <td>ga_ls_ard_3_2022-10-14</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-14</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-14.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>22</th>
      <td>ga_ls_ard_3_2022-10-15</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-15</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-15.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>23</th>
      <td>ga_ls_ard_3_2022-10-16</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-16</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-16.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>24</th>
      <td>ga_ls_ard_3_2022-10-17</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-17</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-17.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>25</th>
      <td>ga_ls_ard_3_2022-10-18</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-18</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-18.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>26</th>
      <td>ga_ls_ard_3_2022-10-19</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-19</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-19.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>27</th>
      <td>ga_ls_ard_3_2022-10-20</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-20</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-20.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>28</th>
      <td>ga_ls_ard_3_2022-10-21</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-21</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-21.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>29</th>
      <td>ga_ls_ard_3_2022-10-22</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-22</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-22.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>30</th>
      <td>ga_ls_ard_3_2022-10-23</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-23</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-23.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>31</th>
      <td>ga_ls_ard_3_2022-10-24</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-24</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-24.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>32</th>
      <td>ga_ls_ard_3_2022-10-25</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-25</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-25.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>33</th>
      <td>ga_ls_ard_3_2022-10-26</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-26</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-26.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>34</th>
      <td>ga_ls_ard_3_2022-10-27</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-27</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-27.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>35</th>
      <td>ga_ls_ard_3_2022-10-28</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-28</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-28.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>36</th>
      <td>ga_ls_ard_3_2022-10-29</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-29</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-29.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>37</th>
      <td>DEM</td>
      <td>None</td>
      <td>DEM</td>
      <td>DEM</td>
      <td>output/mvp_dem/DEM_SRTM_1_Second_Hydro_Enforce...</td>
      <td>downloaded</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="landscape" class="level3">
<h3 class="anchored" data-anchor-id="landscape">Landscape</h3>
<p>Download landscape data from Soil and Landscape Grid of Australia (SLGA).</p>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Download landscape data</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>layernames <span class="op">=</span> settings.target_sources[<span class="st">'Landscape'</span>]</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>layertitles <span class="op">=</span> [<span class="st">'Landscape_'</span> <span class="op">+</span> layername <span class="cf">for</span> layername <span class="kw">in</span> layernames]</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>outfnames <span class="op">=</span> gh.getdata_landscape.get_landscape_layers(</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    layernames, </span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    settings.target_bbox, </span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    settings.outpath, </span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    resolution <span class="op">=</span> settings.target_res)</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Add extracted data to log dataframe</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>df_log <span class="op">=</span> update_logtable(</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>    df_log, outfnames, </span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>    layernames, </span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Landscape'</span>, </span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>    settings, </span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>    layertitles <span class="op">=</span> layertitles,</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>    loginfos <span class="op">=</span> <span class="st">'downloaded'</span>)</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>df_log</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>⚑ Landscape_Slope.tif already exists, skipping download
⚑ Landscape_Aspect.tif already exists, skipping download
⚑ Landscape_Relief_300m.tif already exists, skipping download</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="15">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>layername</th>
      <th>agfunction</th>
      <th>dataset</th>
      <th>layertitle</th>
      <th>filename_out</th>
      <th>loginfo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Bulk_Density</td>
      <td>0-5cm</td>
      <td>SLGA</td>
      <td>Bulk_Density_0-5cm</td>
      <td>output/SLGA_Bulk_Density_0-5cm.tif</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Clay</td>
      <td>0-5cm</td>
      <td>SLGA</td>
      <td>Clay_0-5cm</td>
      <td>output/SLGA_Clay_0-5cm.tif</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>2</th>
      <td>daily_rain</td>
      <td>mean</td>
      <td>SILO</td>
      <td>daily_rain_mean</td>
      <td>output/_silo/silo_daily_rain_2022-10-01-2022-1...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>3</th>
      <td>max_temp</td>
      <td>median</td>
      <td>SILO</td>
      <td>max_temp_median</td>
      <td>output/_silo/silo_max_temp_2022-10-01-2022-10-...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>4</th>
      <td>min_temp</td>
      <td>median</td>
      <td>SILO</td>
      <td>min_temp_median</td>
      <td>output/_silo/silo_min_temp_2022-10-01-2022-10-...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>5</th>
      <td>monthly_rain</td>
      <td>sum</td>
      <td>SILO</td>
      <td>monthly_rain_sum</td>
      <td>output/_silo/silo_monthly_rain_2022-10-01-2022...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>6</th>
      <td>landsat_barest_earth</td>
      <td>None</td>
      <td>DEA</td>
      <td>landsat_barest_earth</td>
      <td>output/mvp_dea/landsat_barest_earth.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>7</th>
      <td>ga_ls_ard_3_2022-9-30</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-9-30</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-9-30.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>8</th>
      <td>ga_ls_ard_3_2022-10-1</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-1</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-1.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>9</th>
      <td>ga_ls_ard_3_2022-10-2</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-2</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-2.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>10</th>
      <td>ga_ls_ard_3_2022-10-3</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-3</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-3.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>11</th>
      <td>ga_ls_ard_3_2022-10-4</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-4</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-4.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>12</th>
      <td>ga_ls_ard_3_2022-10-5</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-5</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-5.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>13</th>
      <td>ga_ls_ard_3_2022-10-6</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-6</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-6.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>14</th>
      <td>ga_ls_ard_3_2022-10-7</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-7</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-7.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>15</th>
      <td>ga_ls_ard_3_2022-10-8</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-8</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-8.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>16</th>
      <td>ga_ls_ard_3_2022-10-9</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-9</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-9.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>17</th>
      <td>ga_ls_ard_3_2022-10-10</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-10</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-10.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>18</th>
      <td>ga_ls_ard_3_2022-10-11</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-11</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-11.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>19</th>
      <td>ga_ls_ard_3_2022-10-12</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-12</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-12.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>20</th>
      <td>ga_ls_ard_3_2022-10-13</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-13</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-13.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>21</th>
      <td>ga_ls_ard_3_2022-10-14</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-14</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-14.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>22</th>
      <td>ga_ls_ard_3_2022-10-15</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-15</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-15.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>23</th>
      <td>ga_ls_ard_3_2022-10-16</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-16</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-16.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>24</th>
      <td>ga_ls_ard_3_2022-10-17</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-17</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-17.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>25</th>
      <td>ga_ls_ard_3_2022-10-18</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-18</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-18.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>26</th>
      <td>ga_ls_ard_3_2022-10-19</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-19</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-19.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>27</th>
      <td>ga_ls_ard_3_2022-10-20</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-20</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-20.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>28</th>
      <td>ga_ls_ard_3_2022-10-21</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-21</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-21.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>29</th>
      <td>ga_ls_ard_3_2022-10-22</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-22</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-22.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>30</th>
      <td>ga_ls_ard_3_2022-10-23</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-23</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-23.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>31</th>
      <td>ga_ls_ard_3_2022-10-24</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-24</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-24.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>32</th>
      <td>ga_ls_ard_3_2022-10-25</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-25</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-25.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>33</th>
      <td>ga_ls_ard_3_2022-10-26</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-26</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-26.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>34</th>
      <td>ga_ls_ard_3_2022-10-27</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-27</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-27.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>35</th>
      <td>ga_ls_ard_3_2022-10-28</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-28</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-28.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>36</th>
      <td>ga_ls_ard_3_2022-10-29</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-29</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-29.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>37</th>
      <td>DEM</td>
      <td>None</td>
      <td>DEM</td>
      <td>DEM</td>
      <td>output/mvp_dem/DEM_SRTM_1_Second_Hydro_Enforce...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>38</th>
      <td>Slope</td>
      <td>None</td>
      <td>Landscape</td>
      <td>Landscape_Slope</td>
      <td>output/Landscape_Slope.tif</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>39</th>
      <td>Aspect</td>
      <td>None</td>
      <td>Landscape</td>
      <td>Landscape_Aspect</td>
      <td>output/Landscape_Aspect.tif</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>40</th>
      <td>Relief_300m</td>
      <td>None</td>
      <td>Landscape</td>
      <td>Landscape_Relief_300m</td>
      <td>output/Landscape_Relief_300m.tif</td>
      <td>downloaded</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="radiometrics" class="level3">
<h3 class="anchored" data-anchor-id="radiometrics">Radiometrics</h3>
<p>Download maps of Geoscience Australia National Geophysical Compilation Sub-collection Radiometrics</p>
<div class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Download radiometrics</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>layernames <span class="op">=</span> settings.target_sources[<span class="st">'Radiometric'</span>]</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>outfnames <span class="op">=</span> gh.getdata_radiometric.get_radiometric_layers(</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    settings.outpath, </span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    layernames, </span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    bbox <span class="op">=</span> settings.target_bbox, </span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>    resolution<span class="op">=</span>settings.target_res)</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a> <span class="co"># Add extracted data to log dataframe</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>df_log <span class="op">=</span> update_logtable(</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>    df_log, outfnames, </span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>    layernames, </span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Radiometric'</span>, </span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>    settings, </span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>    layertitles <span class="op">=</span> layernames,</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>    loginfos <span class="op">=</span> <span class="st">'downloaded'</span>)</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>df_log</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="google-earth-engine" class="level2">
<h2 class="anchored" data-anchor-id="google-earth-engine">Google Earth Engine</h2>
<p>To connect to Google Earth Engine, you must already have access to the Google Earth Engine API. You can request for access <a href="https://earthengine.google.com/signup/">by clicking here</a>. Once you are authorised, connect to the API using <code>initialise()</code>. A web browser may be invoked to complete the process.</p>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Connect to the Google Earth Engine API</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>eeharvest.initialise(auth_mode <span class="op">=</span> <span class="st">'notebook'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>⊙ Initialising Earth Engine... 2.6s                                                                                     
✔ Earth Engine authenticated</code></pre>
</div>
</div>
<section id="collect-and-preprocess-earth-engine-data" class="level3">
<h3 class="anchored" data-anchor-id="collect-and-preprocess-earth-engine-data">Collect and preprocess Earth Engine Data</h3>
<p>Use <code>collect()</code> to define the data object and <code>preprocess()</code> to perform server-side data processing which includes cloud and shadow masking, image reduction and calculation of spectral indices.</p>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>gee <span class="op">=</span> settings.target_sources[<span class="st">"GEE"</span>]</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the collection, area of interest and date range</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>img <span class="op">=</span> eeharvest.collect(collection<span class="op">=</span>gee[<span class="st">'preprocess'</span>][<span class="st">'collection'</span>],</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>              coords<span class="op">=</span>settings.target_bbox,</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>              date_min<span class="op">=</span>settings.date_min, </span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>              date_max <span class="op">=</span> settings.date_max)</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform cloud maskng, reduction, and calculate one or more spectral indices</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>img.preprocess(mask_clouds<span class="op">=</span>gee[<span class="st">"preprocess"</span>][<span class="st">"mask_clouds"</span>], </span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>               <span class="bu">reduce</span><span class="op">=</span>gee[<span class="st">"preprocess"</span>][<span class="st">"reduce"</span>], </span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>               spectral<span class="op">=</span>gee[<span class="st">"preprocess"</span>][<span class="st">"spectral"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Running preprocess() -----
⊙ Applying scale, offset and cloud masks... 0.8s                                                                        
⊙ Calculating spectral indices: NDVI... 0.6s                                                                            
⊙ Reducing image pixels by median 0.0s                                                                                  
✔ Preprocessing complete</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="20">
<div><style>:root {
  --font-color-primary: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --font-color-secondary: var(--jp-content-font-color2, rgba(0, 0, 0, 0.6));
  --font-color-accent: rgba(123, 31, 162, 1);
  --border-color: var(--jp-border-color2, #e0e0e0);
  --background-color: var(--jp-layout-color0, white);
  --background-color-row-even: var(--jp-layout-color1, white);
  --background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --font-color-primary: rgba(255, 255, 255, 1);
  --font-color-secondary: rgba(255, 255, 255, 0.6);
  --font-color-accent: rgb(173, 132, 190);
  --border-color: #2e2e2e;
  --background-color: #111111;
  --background-color-row-even: #111111;
  --background-color-row-odd: #313131;
}

.ee {
  padding: 1em;
  line-height: 1.5em;
  min-width: 300px;
  max-width: 1200px;
  overflow-y: scroll;
  max-height: 600px;
  border: 1px solid var(--border-color);
  font-family: monospace;
}

.ee li {
  list-style-type: none;
}

.ee ul {
  padding-left: 1.5em !important;
  margin: 0;
}

.ee > ul {
  padding-left: 0 !important;
}

.ee-open,
.ee-shut {
  color: var(--font-color-secondary);
  cursor: pointer;
  margin: 0;
}

.ee-open:hover,
.ee-shut:hover {
  color: var(--font-color-primary);
}

.ee-k {
  color: var(--font-color-accent);
  margin-right: 6px;
}

.ee-v {
  color: var(--font-color-primary);
}

.ee-toggle {
  display: none;
}

.ee-shut + ul {
  display: none;
}

.ee-open + ul {
  display: block;
}

.ee-shut::before {
  display: inline-block;
  content: "▼";
  margin-right: 6px;
  transform: rotate(-90deg);
  transition: transform 0.2s;
}

.ee-open::before {
  transform: rotate(0deg);
  display: inline-block;
  content: "▼";
  margin-right: 6px;
  transition: transform 0.2s;
}
</style><div class="ee"><ul><li><label class="ee-shut">Image (20 bands)<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">type:</span><span class="ee-v">Image</span></li><li><label class="ee-shut">bands: List (20 elements)<input type="checkbox" class="ee-toggle"></label><ul><li><label class="ee-shut">0: "SR_B1", double, EPSG:4326<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">id:</span><span class="ee-v">SR_B1</span></li><li><span class="ee-k">crs:</span><span class="ee-v">EPSG:4326</span></li><li><label class="ee-shut">crs_transform: [1, 0, 0, 0, 1, 0]<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">0:</span><span class="ee-v">1</span></li><li><span class="ee-k">1:</span><span class="ee-v">0</span></li><li><span class="ee-k">2:</span><span class="ee-v">0</span></li><li><span class="ee-k">3:</span><span class="ee-v">0</span></li><li><span class="ee-k">4:</span><span class="ee-v">1</span></li><li><span class="ee-k">5:</span><span class="ee-v">0</span></li></ul></li><li><label class="ee-shut">data_type: double<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">type:</span><span class="ee-v">PixelType</span></li><li><span class="ee-k">max:</span><span class="ee-v">1.6022125</span></li><li><span class="ee-k">min:</span><span class="ee-v">-0.2</span></li><li><span class="ee-k">precision:</span><span class="ee-v">double</span></li></ul></li></ul></li><li><label class="ee-shut">1: "SR_B2", double, EPSG:4326<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">id:</span><span class="ee-v">SR_B2</span></li><li><span class="ee-k">crs:</span><span class="ee-v">EPSG:4326</span></li><li><label class="ee-shut">crs_transform: [1, 0, 0, 0, 1, 0]<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">0:</span><span class="ee-v">1</span></li><li><span class="ee-k">1:</span><span class="ee-v">0</span></li><li><span class="ee-k">2:</span><span class="ee-v">0</span></li><li><span class="ee-k">3:</span><span class="ee-v">0</span></li><li><span class="ee-k">4:</span><span class="ee-v">1</span></li><li><span class="ee-k">5:</span><span class="ee-v">0</span></li></ul></li><li><label class="ee-shut">data_type: double<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">type:</span><span class="ee-v">PixelType</span></li><li><span class="ee-k">max:</span><span class="ee-v">1.6022125</span></li><li><span class="ee-k">min:</span><span class="ee-v">-0.2</span></li><li><span class="ee-k">precision:</span><span class="ee-v">double</span></li></ul></li></ul></li><li><label class="ee-shut">2: "SR_B3", double, EPSG:4326<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">id:</span><span class="ee-v">SR_B3</span></li><li><span class="ee-k">crs:</span><span class="ee-v">EPSG:4326</span></li><li><label class="ee-shut">crs_transform: [1, 0, 0, 0, 1, 0]<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">0:</span><span class="ee-v">1</span></li><li><span class="ee-k">1:</span><span class="ee-v">0</span></li><li><span class="ee-k">2:</span><span class="ee-v">0</span></li><li><span class="ee-k">3:</span><span class="ee-v">0</span></li><li><span class="ee-k">4:</span><span class="ee-v">1</span></li><li><span class="ee-k">5:</span><span class="ee-v">0</span></li></ul></li><li><label class="ee-shut">data_type: double<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">type:</span><span class="ee-v">PixelType</span></li><li><span class="ee-k">max:</span><span class="ee-v">1.6022125</span></li><li><span class="ee-k">min:</span><span class="ee-v">-0.2</span></li><li><span class="ee-k">precision:</span><span class="ee-v">double</span></li></ul></li></ul></li><li><label class="ee-shut">3: "SR_B4", double, EPSG:4326<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">id:</span><span class="ee-v">SR_B4</span></li><li><span class="ee-k">crs:</span><span class="ee-v">EPSG:4326</span></li><li><label class="ee-shut">crs_transform: [1, 0, 0, 0, 1, 0]<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">0:</span><span class="ee-v">1</span></li><li><span class="ee-k">1:</span><span class="ee-v">0</span></li><li><span class="ee-k">2:</span><span class="ee-v">0</span></li><li><span class="ee-k">3:</span><span class="ee-v">0</span></li><li><span class="ee-k">4:</span><span class="ee-v">1</span></li><li><span class="ee-k">5:</span><span class="ee-v">0</span></li></ul></li><li><label class="ee-shut">data_type: double<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">type:</span><span class="ee-v">PixelType</span></li><li><span class="ee-k">max:</span><span class="ee-v">1.6022125</span></li><li><span class="ee-k">min:</span><span class="ee-v">-0.2</span></li><li><span class="ee-k">precision:</span><span class="ee-v">double</span></li></ul></li></ul></li><li><label class="ee-shut">4: "SR_B5", double, EPSG:4326<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">id:</span><span class="ee-v">SR_B5</span></li><li><span class="ee-k">crs:</span><span class="ee-v">EPSG:4326</span></li><li><label class="ee-shut">crs_transform: [1, 0, 0, 0, 1, 0]<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">0:</span><span class="ee-v">1</span></li><li><span class="ee-k">1:</span><span class="ee-v">0</span></li><li><span class="ee-k">2:</span><span class="ee-v">0</span></li><li><span class="ee-k">3:</span><span class="ee-v">0</span></li><li><span class="ee-k">4:</span><span class="ee-v">1</span></li><li><span class="ee-k">5:</span><span class="ee-v">0</span></li></ul></li><li><label class="ee-shut">data_type: double<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">type:</span><span class="ee-v">PixelType</span></li><li><span class="ee-k">max:</span><span class="ee-v">1.6022125</span></li><li><span class="ee-k">min:</span><span class="ee-v">-0.2</span></li><li><span class="ee-k">precision:</span><span class="ee-v">double</span></li></ul></li></ul></li><li><label class="ee-shut">5: "SR_B6", double, EPSG:4326<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">id:</span><span class="ee-v">SR_B6</span></li><li><span class="ee-k">crs:</span><span class="ee-v">EPSG:4326</span></li><li><label class="ee-shut">crs_transform: [1, 0, 0, 0, 1, 0]<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">0:</span><span class="ee-v">1</span></li><li><span class="ee-k">1:</span><span class="ee-v">0</span></li><li><span class="ee-k">2:</span><span class="ee-v">0</span></li><li><span class="ee-k">3:</span><span class="ee-v">0</span></li><li><span class="ee-k">4:</span><span class="ee-v">1</span></li><li><span class="ee-k">5:</span><span class="ee-v">0</span></li></ul></li><li><label class="ee-shut">data_type: double<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">type:</span><span class="ee-v">PixelType</span></li><li><span class="ee-k">max:</span><span class="ee-v">1.6022125</span></li><li><span class="ee-k">min:</span><span class="ee-v">-0.2</span></li><li><span class="ee-k">precision:</span><span class="ee-v">double</span></li></ul></li></ul></li><li><label class="ee-shut">6: "SR_B7", double, EPSG:4326<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">id:</span><span class="ee-v">SR_B7</span></li><li><span class="ee-k">crs:</span><span class="ee-v">EPSG:4326</span></li><li><label class="ee-shut">crs_transform: [1, 0, 0, 0, 1, 0]<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">0:</span><span class="ee-v">1</span></li><li><span class="ee-k">1:</span><span class="ee-v">0</span></li><li><span class="ee-k">2:</span><span class="ee-v">0</span></li><li><span class="ee-k">3:</span><span class="ee-v">0</span></li><li><span class="ee-k">4:</span><span class="ee-v">1</span></li><li><span class="ee-k">5:</span><span class="ee-v">0</span></li></ul></li><li><label class="ee-shut">data_type: double<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">type:</span><span class="ee-v">PixelType</span></li><li><span class="ee-k">max:</span><span class="ee-v">1.6022125</span></li><li><span class="ee-k">min:</span><span class="ee-v">-0.2</span></li><li><span class="ee-k">precision:</span><span class="ee-v">double</span></li></ul></li></ul></li><li><label class="ee-shut">7: "SR_QA_AEROSOL", double, EPSG:4326<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">id:</span><span class="ee-v">SR_QA_AEROSOL</span></li><li><span class="ee-k">crs:</span><span class="ee-v">EPSG:4326</span></li><li><label class="ee-shut">crs_transform: [1, 0, 0, 0, 1, 0]<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">0:</span><span class="ee-v">1</span></li><li><span class="ee-k">1:</span><span class="ee-v">0</span></li><li><span class="ee-k">2:</span><span class="ee-v">0</span></li><li><span class="ee-k">3:</span><span class="ee-v">0</span></li><li><span class="ee-k">4:</span><span class="ee-v">1</span></li><li><span class="ee-k">5:</span><span class="ee-v">0</span></li></ul></li><li><label class="ee-shut">data_type: double<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">type:</span><span class="ee-v">PixelType</span></li><li><span class="ee-k">max:</span><span class="ee-v">255</span></li><li><span class="ee-k">min:</span><span class="ee-v">0</span></li><li><span class="ee-k">precision:</span><span class="ee-v">double</span></li></ul></li></ul></li><li><label class="ee-shut">8: "ST_B10", double, EPSG:4326<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">id:</span><span class="ee-v">ST_B10</span></li><li><span class="ee-k">crs:</span><span class="ee-v">EPSG:4326</span></li><li><label class="ee-shut">crs_transform: [1, 0, 0, 0, 1, 0]<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">0:</span><span class="ee-v">1</span></li><li><span class="ee-k">1:</span><span class="ee-v">0</span></li><li><span class="ee-k">2:</span><span class="ee-v">0</span></li><li><span class="ee-k">3:</span><span class="ee-v">0</span></li><li><span class="ee-k">4:</span><span class="ee-v">1</span></li><li><span class="ee-k">5:</span><span class="ee-v">0</span></li></ul></li><li><label class="ee-shut">data_type: double<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">type:</span><span class="ee-v">PixelType</span></li><li><span class="ee-k">max:</span><span class="ee-v">372.9999407</span></li><li><span class="ee-k">min:</span><span class="ee-v">149</span></li><li><span class="ee-k">precision:</span><span class="ee-v">double</span></li></ul></li></ul></li><li><label class="ee-shut">9: "ST_ATRAN", double, EPSG:4326<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">id:</span><span class="ee-v">ST_ATRAN</span></li><li><span class="ee-k">crs:</span><span class="ee-v">EPSG:4326</span></li><li><label class="ee-shut">crs_transform: [1, 0, 0, 0, 1, 0]<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">0:</span><span class="ee-v">1</span></li><li><span class="ee-k">1:</span><span class="ee-v">0</span></li><li><span class="ee-k">2:</span><span class="ee-v">0</span></li><li><span class="ee-k">3:</span><span class="ee-v">0</span></li><li><span class="ee-k">4:</span><span class="ee-v">1</span></li><li><span class="ee-k">5:</span><span class="ee-v">0</span></li></ul></li><li><label class="ee-shut">data_type: double<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">type:</span><span class="ee-v">PixelType</span></li><li><span class="ee-k">max:</span><span class="ee-v">3.2767</span></li><li><span class="ee-k">min:</span><span class="ee-v">-3.2768</span></li><li><span class="ee-k">precision:</span><span class="ee-v">double</span></li></ul></li></ul></li><li><label class="ee-shut">10: "ST_CDIST", double, EPSG:4326<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">id:</span><span class="ee-v">ST_CDIST</span></li><li><span class="ee-k">crs:</span><span class="ee-v">EPSG:4326</span></li><li><label class="ee-shut">crs_transform: [1, 0, 0, 0, 1, 0]<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">0:</span><span class="ee-v">1</span></li><li><span class="ee-k">1:</span><span class="ee-v">0</span></li><li><span class="ee-k">2:</span><span class="ee-v">0</span></li><li><span class="ee-k">3:</span><span class="ee-v">0</span></li><li><span class="ee-k">4:</span><span class="ee-v">1</span></li><li><span class="ee-k">5:</span><span class="ee-v">0</span></li></ul></li><li><label class="ee-shut">data_type: double<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">type:</span><span class="ee-v">PixelType</span></li><li><span class="ee-k">max:</span><span class="ee-v">327.67</span></li><li><span class="ee-k">min:</span><span class="ee-v">-327.68</span></li><li><span class="ee-k">precision:</span><span class="ee-v">double</span></li></ul></li></ul></li><li><label class="ee-shut">11: "ST_DRAD", double, EPSG:4326<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">id:</span><span class="ee-v">ST_DRAD</span></li><li><span class="ee-k">crs:</span><span class="ee-v">EPSG:4326</span></li><li><label class="ee-shut">crs_transform: [1, 0, 0, 0, 1, 0]<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">0:</span><span class="ee-v">1</span></li><li><span class="ee-k">1:</span><span class="ee-v">0</span></li><li><span class="ee-k">2:</span><span class="ee-v">0</span></li><li><span class="ee-k">3:</span><span class="ee-v">0</span></li><li><span class="ee-k">4:</span><span class="ee-v">1</span></li><li><span class="ee-k">5:</span><span class="ee-v">0</span></li></ul></li><li><label class="ee-shut">data_type: double<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">type:</span><span class="ee-v">PixelType</span></li><li><span class="ee-k">max:</span><span class="ee-v">32.767</span></li><li><span class="ee-k">min:</span><span class="ee-v">-32.768</span></li><li><span class="ee-k">precision:</span><span class="ee-v">double</span></li></ul></li></ul></li><li><label class="ee-shut">12: "ST_EMIS", double, EPSG:4326<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">id:</span><span class="ee-v">ST_EMIS</span></li><li><span class="ee-k">crs:</span><span class="ee-v">EPSG:4326</span></li><li><label class="ee-shut">crs_transform: [1, 0, 0, 0, 1, 0]<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">0:</span><span class="ee-v">1</span></li><li><span class="ee-k">1:</span><span class="ee-v">0</span></li><li><span class="ee-k">2:</span><span class="ee-v">0</span></li><li><span class="ee-k">3:</span><span class="ee-v">0</span></li><li><span class="ee-k">4:</span><span class="ee-v">1</span></li><li><span class="ee-k">5:</span><span class="ee-v">0</span></li></ul></li><li><label class="ee-shut">data_type: double<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">type:</span><span class="ee-v">PixelType</span></li><li><span class="ee-k">max:</span><span class="ee-v">3.2767</span></li><li><span class="ee-k">min:</span><span class="ee-v">-3.2768</span></li><li><span class="ee-k">precision:</span><span class="ee-v">double</span></li></ul></li></ul></li><li><label class="ee-shut">13: "ST_EMSD", double, EPSG:4326<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">id:</span><span class="ee-v">ST_EMSD</span></li><li><span class="ee-k">crs:</span><span class="ee-v">EPSG:4326</span></li><li><label class="ee-shut">crs_transform: [1, 0, 0, 0, 1, 0]<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">0:</span><span class="ee-v">1</span></li><li><span class="ee-k">1:</span><span class="ee-v">0</span></li><li><span class="ee-k">2:</span><span class="ee-v">0</span></li><li><span class="ee-k">3:</span><span class="ee-v">0</span></li><li><span class="ee-k">4:</span><span class="ee-v">1</span></li><li><span class="ee-k">5:</span><span class="ee-v">0</span></li></ul></li><li><label class="ee-shut">data_type: double<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">type:</span><span class="ee-v">PixelType</span></li><li><span class="ee-k">max:</span><span class="ee-v">3.2767</span></li><li><span class="ee-k">min:</span><span class="ee-v">-3.2768</span></li><li><span class="ee-k">precision:</span><span class="ee-v">double</span></li></ul></li></ul></li><li><label class="ee-shut">14: "ST_QA", double, EPSG:4326<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">id:</span><span class="ee-v">ST_QA</span></li><li><span class="ee-k">crs:</span><span class="ee-v">EPSG:4326</span></li><li><label class="ee-shut">crs_transform: [1, 0, 0, 0, 1, 0]<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">0:</span><span class="ee-v">1</span></li><li><span class="ee-k">1:</span><span class="ee-v">0</span></li><li><span class="ee-k">2:</span><span class="ee-v">0</span></li><li><span class="ee-k">3:</span><span class="ee-v">0</span></li><li><span class="ee-k">4:</span><span class="ee-v">1</span></li><li><span class="ee-k">5:</span><span class="ee-v">0</span></li></ul></li><li><label class="ee-shut">data_type: double<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">type:</span><span class="ee-v">PixelType</span></li><li><span class="ee-k">max:</span><span class="ee-v">327.67</span></li><li><span class="ee-k">min:</span><span class="ee-v">-327.68</span></li><li><span class="ee-k">precision:</span><span class="ee-v">double</span></li></ul></li></ul></li><li><label class="ee-shut">15: "ST_TRAD", double, EPSG:4326<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">id:</span><span class="ee-v">ST_TRAD</span></li><li><span class="ee-k">crs:</span><span class="ee-v">EPSG:4326</span></li><li><label class="ee-shut">crs_transform: [1, 0, 0, 0, 1, 0]<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">0:</span><span class="ee-v">1</span></li><li><span class="ee-k">1:</span><span class="ee-v">0</span></li><li><span class="ee-k">2:</span><span class="ee-v">0</span></li><li><span class="ee-k">3:</span><span class="ee-v">0</span></li><li><span class="ee-k">4:</span><span class="ee-v">1</span></li><li><span class="ee-k">5:</span><span class="ee-v">0</span></li></ul></li><li><label class="ee-shut">data_type: double<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">type:</span><span class="ee-v">PixelType</span></li><li><span class="ee-k">max:</span><span class="ee-v">32.767</span></li><li><span class="ee-k">min:</span><span class="ee-v">-32.768</span></li><li><span class="ee-k">precision:</span><span class="ee-v">double</span></li></ul></li></ul></li><li><label class="ee-shut">16: "ST_URAD", double, EPSG:4326<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">id:</span><span class="ee-v">ST_URAD</span></li><li><span class="ee-k">crs:</span><span class="ee-v">EPSG:4326</span></li><li><label class="ee-shut">crs_transform: [1, 0, 0, 0, 1, 0]<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">0:</span><span class="ee-v">1</span></li><li><span class="ee-k">1:</span><span class="ee-v">0</span></li><li><span class="ee-k">2:</span><span class="ee-v">0</span></li><li><span class="ee-k">3:</span><span class="ee-v">0</span></li><li><span class="ee-k">4:</span><span class="ee-v">1</span></li><li><span class="ee-k">5:</span><span class="ee-v">0</span></li></ul></li><li><label class="ee-shut">data_type: double<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">type:</span><span class="ee-v">PixelType</span></li><li><span class="ee-k">max:</span><span class="ee-v">32.767</span></li><li><span class="ee-k">min:</span><span class="ee-v">-32.768</span></li><li><span class="ee-k">precision:</span><span class="ee-v">double</span></li></ul></li></ul></li><li><label class="ee-shut">17: "QA_PIXEL", double, EPSG:4326<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">id:</span><span class="ee-v">QA_PIXEL</span></li><li><span class="ee-k">crs:</span><span class="ee-v">EPSG:4326</span></li><li><label class="ee-shut">crs_transform: [1, 0, 0, 0, 1, 0]<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">0:</span><span class="ee-v">1</span></li><li><span class="ee-k">1:</span><span class="ee-v">0</span></li><li><span class="ee-k">2:</span><span class="ee-v">0</span></li><li><span class="ee-k">3:</span><span class="ee-v">0</span></li><li><span class="ee-k">4:</span><span class="ee-v">1</span></li><li><span class="ee-k">5:</span><span class="ee-v">0</span></li></ul></li><li><label class="ee-shut">data_type: double<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">type:</span><span class="ee-v">PixelType</span></li><li><span class="ee-k">max:</span><span class="ee-v">65535</span></li><li><span class="ee-k">min:</span><span class="ee-v">0</span></li><li><span class="ee-k">precision:</span><span class="ee-v">double</span></li></ul></li></ul></li><li><label class="ee-shut">18: "QA_RADSAT", double, EPSG:4326<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">id:</span><span class="ee-v">QA_RADSAT</span></li><li><span class="ee-k">crs:</span><span class="ee-v">EPSG:4326</span></li><li><label class="ee-shut">crs_transform: [1, 0, 0, 0, 1, 0]<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">0:</span><span class="ee-v">1</span></li><li><span class="ee-k">1:</span><span class="ee-v">0</span></li><li><span class="ee-k">2:</span><span class="ee-v">0</span></li><li><span class="ee-k">3:</span><span class="ee-v">0</span></li><li><span class="ee-k">4:</span><span class="ee-v">1</span></li><li><span class="ee-k">5:</span><span class="ee-v">0</span></li></ul></li><li><label class="ee-shut">data_type: double<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">type:</span><span class="ee-v">PixelType</span></li><li><span class="ee-k">max:</span><span class="ee-v">65535</span></li><li><span class="ee-k">min:</span><span class="ee-v">0</span></li><li><span class="ee-k">precision:</span><span class="ee-v">double</span></li></ul></li></ul></li><li><label class="ee-shut">19: "NDVI", double, EPSG:4326<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">id:</span><span class="ee-v">NDVI</span></li><li><span class="ee-k">crs:</span><span class="ee-v">EPSG:4326</span></li><li><label class="ee-shut">crs_transform: [1, 0, 0, 0, 1, 0]<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">0:</span><span class="ee-v">1</span></li><li><span class="ee-k">1:</span><span class="ee-v">0</span></li><li><span class="ee-k">2:</span><span class="ee-v">0</span></li><li><span class="ee-k">3:</span><span class="ee-v">0</span></li><li><span class="ee-k">4:</span><span class="ee-v">1</span></li><li><span class="ee-k">5:</span><span class="ee-v">0</span></li></ul></li><li><label class="ee-shut">data_type: double<input type="checkbox" class="ee-toggle"></label><ul><li><span class="ee-k">type:</span><span class="ee-v">PixelType</span></li><li><span class="ee-k">precision:</span><span class="ee-v">double</span></li></ul></li></ul></li></ul></li></ul></li></ul></div><script>function toggleHeader() {
    const parent = this.parentElement;
    parent.className = parent.className === "ee-open" ? "ee-shut" : "ee-open";
}

for (let c of document.getElementsByClassName("ee-toggle")) {
    c.onclick = toggleHeader;
}</script></div>
</div>
</div>
</section>
<section id="download" class="level3">
<h3 class="anchored" data-anchor-id="download">Download</h3>
<p>Download the data using <code>download()</code> and add to <code>df_log</code>:</p>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Downoad data</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>img.download(bands<span class="op">=</span>gee[<span class="st">"download"</span>][<span class="st">"bands"</span>],</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>             scale<span class="op">=</span>gee[<span class="st">"download"</span>][<span class="st">"scale"</span>],</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>             outpath<span class="op">=</span>settings.outpath,</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>             out_format<span class="op">=</span>gee[<span class="st">"download"</span>][<span class="st">"format"</span>])</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Add to log dataframe</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>outfnames <span class="op">=</span> [settings.outpath <span class="op">+</span> img.filenames]</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>layernames <span class="op">=</span> [Path(img.filenames).resolve().stem]</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>df_log <span class="op">=</span> update_logtable(</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>    df_log,</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>    outfnames,</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>    layernames,</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"GEE"</span>,</span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>    settings,</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>    layertitles<span class="op">=</span>[],</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>    agfunctions<span class="op">=</span>img.<span class="bu">reduce</span>,</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>    loginfos<span class="op">=</span><span class="st">"downloaded"</span>,</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Preview to log file </span></span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>df_log </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Running download() -----
ℹ Band(s) selected: NDVI
ℹ Setting download dir to output/
⊙ Downloading ee_LANDSAT_500ed6ce.tif ▁▃▅ 3s                                                                            </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>on 0: There is no STAC entry for: None</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>⊙ Downloading ee_LANDSAT_500ed6ce.tif 2.9s                                                                              
✔ Google Earth Engine download(s) complete</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="21">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>layername</th>
      <th>agfunction</th>
      <th>dataset</th>
      <th>layertitle</th>
      <th>filename_out</th>
      <th>loginfo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Bulk_Density</td>
      <td>0-5cm</td>
      <td>SLGA</td>
      <td>Bulk_Density_0-5cm</td>
      <td>output/SLGA_Bulk_Density_0-5cm.tif</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Clay</td>
      <td>0-5cm</td>
      <td>SLGA</td>
      <td>Clay_0-5cm</td>
      <td>output/SLGA_Clay_0-5cm.tif</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>2</th>
      <td>daily_rain</td>
      <td>mean</td>
      <td>SILO</td>
      <td>daily_rain_mean</td>
      <td>output/_silo/silo_daily_rain_2022-10-01-2022-1...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>3</th>
      <td>max_temp</td>
      <td>median</td>
      <td>SILO</td>
      <td>max_temp_median</td>
      <td>output/_silo/silo_max_temp_2022-10-01-2022-10-...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>4</th>
      <td>min_temp</td>
      <td>median</td>
      <td>SILO</td>
      <td>min_temp_median</td>
      <td>output/_silo/silo_min_temp_2022-10-01-2022-10-...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>5</th>
      <td>monthly_rain</td>
      <td>sum</td>
      <td>SILO</td>
      <td>monthly_rain_sum</td>
      <td>output/_silo/silo_monthly_rain_2022-10-01-2022...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>6</th>
      <td>landsat_barest_earth</td>
      <td>None</td>
      <td>DEA</td>
      <td>landsat_barest_earth</td>
      <td>output/mvp_dea/landsat_barest_earth.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>7</th>
      <td>ga_ls_ard_3_2022-9-30</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-9-30</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-9-30.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>8</th>
      <td>ga_ls_ard_3_2022-10-1</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-1</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-1.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>9</th>
      <td>ga_ls_ard_3_2022-10-2</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-2</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-2.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>10</th>
      <td>ga_ls_ard_3_2022-10-3</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-3</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-3.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>11</th>
      <td>ga_ls_ard_3_2022-10-4</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-4</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-4.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>12</th>
      <td>ga_ls_ard_3_2022-10-5</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-5</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-5.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>13</th>
      <td>ga_ls_ard_3_2022-10-6</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-6</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-6.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>14</th>
      <td>ga_ls_ard_3_2022-10-7</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-7</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-7.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>15</th>
      <td>ga_ls_ard_3_2022-10-8</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-8</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-8.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>16</th>
      <td>ga_ls_ard_3_2022-10-9</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-9</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-9.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>17</th>
      <td>ga_ls_ard_3_2022-10-10</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-10</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-10.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>18</th>
      <td>ga_ls_ard_3_2022-10-11</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-11</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-11.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>19</th>
      <td>ga_ls_ard_3_2022-10-12</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-12</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-12.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>20</th>
      <td>ga_ls_ard_3_2022-10-13</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-13</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-13.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>21</th>
      <td>ga_ls_ard_3_2022-10-14</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-14</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-14.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>22</th>
      <td>ga_ls_ard_3_2022-10-15</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-15</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-15.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>23</th>
      <td>ga_ls_ard_3_2022-10-16</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-16</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-16.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>24</th>
      <td>ga_ls_ard_3_2022-10-17</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-17</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-17.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>25</th>
      <td>ga_ls_ard_3_2022-10-18</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-18</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-18.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>26</th>
      <td>ga_ls_ard_3_2022-10-19</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-19</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-19.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>27</th>
      <td>ga_ls_ard_3_2022-10-20</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-20</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-20.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>28</th>
      <td>ga_ls_ard_3_2022-10-21</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-21</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-21.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>29</th>
      <td>ga_ls_ard_3_2022-10-22</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-22</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-22.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>30</th>
      <td>ga_ls_ard_3_2022-10-23</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-23</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-23.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>31</th>
      <td>ga_ls_ard_3_2022-10-24</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-24</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-24.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>32</th>
      <td>ga_ls_ard_3_2022-10-25</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-25</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-25.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>33</th>
      <td>ga_ls_ard_3_2022-10-26</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-26</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-26.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>34</th>
      <td>ga_ls_ard_3_2022-10-27</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-27</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-27.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>35</th>
      <td>ga_ls_ard_3_2022-10-28</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-28</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-28.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>36</th>
      <td>ga_ls_ard_3_2022-10-29</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-29</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-29.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>37</th>
      <td>DEM</td>
      <td>None</td>
      <td>DEM</td>
      <td>DEM</td>
      <td>output/mvp_dem/DEM_SRTM_1_Second_Hydro_Enforce...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>38</th>
      <td>Slope</td>
      <td>None</td>
      <td>Landscape</td>
      <td>Landscape_Slope</td>
      <td>output/Landscape_Slope.tif</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>39</th>
      <td>Aspect</td>
      <td>None</td>
      <td>Landscape</td>
      <td>Landscape_Aspect</td>
      <td>output/Landscape_Aspect.tif</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>40</th>
      <td>Relief_300m</td>
      <td>None</td>
      <td>Landscape</td>
      <td>Landscape_Relief_300m</td>
      <td>output/Landscape_Relief_300m.tif</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>41</th>
      <td>ee_LANDSAT_500ed6ce</td>
      <td>median</td>
      <td>GEE</td>
      <td>ee_LANDSAT_500ed6ce_median</td>
      <td>output/ee_LANDSAT_500ed6ce.tif</td>
      <td>downloaded</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
</section>
<section id="save-the-final-log-or-start-from-here-to-re-load-it-in." class="level2">
<h2 class="anchored" data-anchor-id="save-the-final-log-or-start-from-here-to-re-load-it-in.">Save the final log or start from here to re-load it in.</h2>
<p>We have now completed the data download section. You may add additional downlods and processing steps to your log file.</p>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save out (or load in) the log file.</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>logfile <span class="op">=</span> settings.outpath<span class="op">+</span><span class="st">'log.csv'</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> exists(logfile):</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(logfile, <span class="st">"exists! Do you want to read it in?</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>    user_input <span class="op">=</span> <span class="bu">input</span>(<span class="st">"(y)es / (n)o / (a)bort ? Ansering 'no' will overwrite the current file.</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> user_input<span class="op">==</span><span class="st">'y'</span>:</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>        df_log <span class="op">=</span> pd.read_csv(settings.outpath<span class="op">+</span><span class="st">'log.csv'</span>)</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> user_input <span class="op">==</span><span class="st">'n'</span>: </span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>        df_log.to_csv(settings.outpath<span class="op">+</span><span class="st">'log.csv'</span>,index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(logfile, <span class="st">"saved!"</span>)</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Cancelling read/write for log file.</span><span class="ch">\n</span><span class="st">Figure out what you want to do and please try again."</span>)</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"No log file found. Saving to"</span>, settings.outpath<span class="op">+</span><span class="st">'log.csv'</span>)</span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>    df_log.to_csv(settings.outpath<span class="op">+</span><span class="st">'log.csv'</span>,index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>df_log</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>No log file found. Saving to output/log.csv</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="22">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>layername</th>
      <th>agfunction</th>
      <th>dataset</th>
      <th>layertitle</th>
      <th>filename_out</th>
      <th>loginfo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Bulk_Density</td>
      <td>0-5cm</td>
      <td>SLGA</td>
      <td>Bulk_Density_0-5cm</td>
      <td>output/SLGA_Bulk_Density_0-5cm.tif</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Clay</td>
      <td>0-5cm</td>
      <td>SLGA</td>
      <td>Clay_0-5cm</td>
      <td>output/SLGA_Clay_0-5cm.tif</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>2</th>
      <td>daily_rain</td>
      <td>mean</td>
      <td>SILO</td>
      <td>daily_rain_mean</td>
      <td>output/_silo/silo_daily_rain_2022-10-01-2022-1...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>3</th>
      <td>max_temp</td>
      <td>median</td>
      <td>SILO</td>
      <td>max_temp_median</td>
      <td>output/_silo/silo_max_temp_2022-10-01-2022-10-...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>4</th>
      <td>min_temp</td>
      <td>median</td>
      <td>SILO</td>
      <td>min_temp_median</td>
      <td>output/_silo/silo_min_temp_2022-10-01-2022-10-...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>5</th>
      <td>monthly_rain</td>
      <td>sum</td>
      <td>SILO</td>
      <td>monthly_rain_sum</td>
      <td>output/_silo/silo_monthly_rain_2022-10-01-2022...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>6</th>
      <td>landsat_barest_earth</td>
      <td>None</td>
      <td>DEA</td>
      <td>landsat_barest_earth</td>
      <td>output/mvp_dea/landsat_barest_earth.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>7</th>
      <td>ga_ls_ard_3_2022-9-30</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-9-30</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-9-30.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>8</th>
      <td>ga_ls_ard_3_2022-10-1</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-1</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-1.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>9</th>
      <td>ga_ls_ard_3_2022-10-2</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-2</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-2.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>10</th>
      <td>ga_ls_ard_3_2022-10-3</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-3</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-3.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>11</th>
      <td>ga_ls_ard_3_2022-10-4</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-4</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-4.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>12</th>
      <td>ga_ls_ard_3_2022-10-5</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-5</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-5.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>13</th>
      <td>ga_ls_ard_3_2022-10-6</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-6</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-6.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>14</th>
      <td>ga_ls_ard_3_2022-10-7</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-7</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-7.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>15</th>
      <td>ga_ls_ard_3_2022-10-8</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-8</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-8.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>16</th>
      <td>ga_ls_ard_3_2022-10-9</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-9</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-9.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>17</th>
      <td>ga_ls_ard_3_2022-10-10</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-10</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-10.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>18</th>
      <td>ga_ls_ard_3_2022-10-11</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-11</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-11.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>19</th>
      <td>ga_ls_ard_3_2022-10-12</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-12</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-12.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>20</th>
      <td>ga_ls_ard_3_2022-10-13</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-13</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-13.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>21</th>
      <td>ga_ls_ard_3_2022-10-14</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-14</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-14.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>22</th>
      <td>ga_ls_ard_3_2022-10-15</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-15</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-15.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>23</th>
      <td>ga_ls_ard_3_2022-10-16</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-16</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-16.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>24</th>
      <td>ga_ls_ard_3_2022-10-17</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-17</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-17.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>25</th>
      <td>ga_ls_ard_3_2022-10-18</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-18</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-18.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>26</th>
      <td>ga_ls_ard_3_2022-10-19</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-19</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-19.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>27</th>
      <td>ga_ls_ard_3_2022-10-20</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-20</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-20.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>28</th>
      <td>ga_ls_ard_3_2022-10-21</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-21</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-21.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>29</th>
      <td>ga_ls_ard_3_2022-10-22</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-22</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-22.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>30</th>
      <td>ga_ls_ard_3_2022-10-23</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-23</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-23.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>31</th>
      <td>ga_ls_ard_3_2022-10-24</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-24</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-24.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>32</th>
      <td>ga_ls_ard_3_2022-10-25</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-25</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-25.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>33</th>
      <td>ga_ls_ard_3_2022-10-26</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-26</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-26.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>34</th>
      <td>ga_ls_ard_3_2022-10-27</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-27</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-27.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>35</th>
      <td>ga_ls_ard_3_2022-10-28</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-28</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-28.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>36</th>
      <td>ga_ls_ard_3_2022-10-29</td>
      <td>None</td>
      <td>DEA</td>
      <td>ga_ls_ard_3_2022-10-29</td>
      <td>output/mvp_dea/ga_ls_ard_3_2022-10-29.tif</td>
      <td>processed</td>
    </tr>
    <tr>
      <th>37</th>
      <td>DEM</td>
      <td>None</td>
      <td>DEM</td>
      <td>DEM</td>
      <td>output/mvp_dem/DEM_SRTM_1_Second_Hydro_Enforce...</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>38</th>
      <td>Slope</td>
      <td>None</td>
      <td>Landscape</td>
      <td>Landscape_Slope</td>
      <td>output/Landscape_Slope.tif</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>39</th>
      <td>Aspect</td>
      <td>None</td>
      <td>Landscape</td>
      <td>Landscape_Aspect</td>
      <td>output/Landscape_Aspect.tif</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>40</th>
      <td>Relief_300m</td>
      <td>None</td>
      <td>Landscape</td>
      <td>Landscape_Relief_300m</td>
      <td>output/Landscape_Relief_300m.tif</td>
      <td>downloaded</td>
    </tr>
    <tr>
      <th>41</th>
      <td>ee_LANDSAT_500ed6ce</td>
      <td>median</td>
      <td>GEE</td>
      <td>ee_LANDSAT_500ed6ce_median</td>
      <td>output/ee_LANDSAT_500ed6ce.tif</td>
      <td>downloaded</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
</section>
<section id="points-extraction-from-downloadedprocessed-data" class="level2">
<h2 class="anchored" data-anchor-id="points-extraction-from-downloadedprocessed-data">Points extraction from downloaded/processed data</h2>
<p>By default point values of all processed layers in df_log are extracted given by the input locations. However, you can select also only certain layers (see in code).</p>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select all processed data</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>df_sel <span class="op">=</span> df_log.copy()</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="co"># or select only the rasters of interest, for example:</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="co">df_sel = df_log[df_log['layername'].isin(['DEM','Slope',</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="co">'landsat8_nbart_16day_channel0', </span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="co">'Organic_Carbon','Depth_of_Soil',</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="co">'mean_temp','monthly_rain'])]</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>rasters<span class="op">=</span> df_sel[<span class="st">'filename_out'</span>].values.tolist()</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>titles <span class="op">=</span> df_sel[<span class="st">'layertitle'</span>].values.tolist()</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract datatable from rasters given input coordinates</span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>gdf <span class="op">=</span> utils.raster_query(lngs,lats,rasters,titles)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>⊙ • SLGA_Bulk_Density_0-5cm | pixel size: (156, 216) 0.2s                                                               
⊙ • SLGA_Clay_0-5cm | pixel size: (156, 216) 0.0s                                                                       
⊙ • silo_daily_rain_2022-10-01-2022-10-30 | pixel size: (2, 3) 0.0s                                                     
⊙ • silo_max_temp_2022-10-01-2022-10-30 | pixel size: (2, 3) 0.0s                                                       
⊙ • silo_min_temp_2022-10-01-2022-10-30 | pixel size: (2, 3) 0.0s                                                       
⊙ • silo_monthly_rain_2022-10-01-2022-10-30 | pixel size: (2, 3) 0.0s                                                   
⊙ • landsat_barest_earth | pixel size: (77, 107) 0.0s                                                                   
⊙ • ga_ls_ard_3_2022-9-30 | pixel size: (77, 107) 0.0s                                                                  
⊙ • ga_ls_ard_3_2022-10-1 | pixel size: (77, 107) 0.0s                                                                  
⊙ • ga_ls_ard_3_2022-10-2 | pixel size: (77, 107) 0.0s                                                                  
⊙ • ga_ls_ard_3_2022-10-3 | pixel size: (77, 107) 0.0s                                                                  
⊙ • ga_ls_ard_3_2022-10-4 | pixel size: (77, 107) 0.0s                                                                  
⊙ • ga_ls_ard_3_2022-10-5 | pixel size: (77, 107) 0.0s                                                                  
⊙ • ga_ls_ard_3_2022-10-6 | pixel size: (77, 107) 0.0s                                                                  
⊙ • ga_ls_ard_3_2022-10-7 | pixel size: (77, 107) 0.0s                                                                  
⊙ • ga_ls_ard_3_2022-10-8 | pixel size: (77, 107) 0.0s                                                                  
⊙ • ga_ls_ard_3_2022-10-9 | pixel size: (77, 107) 0.0s                                                                  
⊙ • ga_ls_ard_3_2022-10-10 | pixel size: (77, 107) 0.0s                                                                 
⊙ • ga_ls_ard_3_2022-10-11 | pixel size: (77, 107) 0.0s                                                                 
⊙ • ga_ls_ard_3_2022-10-12 | pixel size: (77, 107) 0.0s                                                                 
⊙ • ga_ls_ard_3_2022-10-13 | pixel size: (77, 107) 0.0s                                                                 
⊙ • ga_ls_ard_3_2022-10-14 | pixel size: (77, 107) 0.0s                                                                 
⊙ • ga_ls_ard_3_2022-10-15 | pixel size: (77, 107) 0.0s                                                                 
⊙ • ga_ls_ard_3_2022-10-16 | pixel size: (77, 107) 0.0s                                                                 
⊙ • ga_ls_ard_3_2022-10-17 | pixel size: (77, 107) 0.0s                                                                 
⊙ • ga_ls_ard_3_2022-10-18 | pixel size: (77, 107) 0.0s                                                                 
⊙ • ga_ls_ard_3_2022-10-19 | pixel size: (77, 107) 0.0s                                                                 
⊙ • ga_ls_ard_3_2022-10-20 | pixel size: (77, 107) 0.0s                                                                 
⊙ • ga_ls_ard_3_2022-10-21 | pixel size: (77, 107) 0.0s                                                                 
⊙ • ga_ls_ard_3_2022-10-22 | pixel size: (77, 107) 0.0s                                                                 
⊙ • ga_ls_ard_3_2022-10-23 | pixel size: (77, 107) 0.0s                                                                 
⊙ • ga_ls_ard_3_2022-10-24 | pixel size: (77, 107) 0.0s                                                                 
⊙ • ga_ls_ard_3_2022-10-25 | pixel size: (77, 107) 0.0s                                                                 
⊙ • ga_ls_ard_3_2022-10-26 | pixel size: (77, 107) 0.0s                                                                 
⊙ • ga_ls_ard_3_2022-10-27 | pixel size: (77, 107) 0.0s                                                                 
⊙ • ga_ls_ard_3_2022-10-28 | pixel size: (77, 107) 0.0s                                                                 
⊙ • ga_ls_ard_3_2022-10-29 | pixel size: (77, 107) 0.0s                                                                 
⊙ • DEM_SRTM_1_Second_Hydro_Enforced_2023_01_31 | pixel size: (78, 108) 0.0s                                            
⊙ • Landscape_Slope | pixel size: (78, 108) 0.0s                                                                        
⊙ • Landscape_Aspect | pixel size: (78, 108) 0.0s                                                                       
⊙ • Landscape_Relief_300m | pixel size: (78, 108) 0.0s                                                                  
⊙ • ee_LANDSAT_500ed6ce | pixel size: (145, 201) 0.0s                                                                   </code></pre>
</div>
</div>
<section id="inspect-result-dataframe" class="level3">
<h3 class="anchored" data-anchor-id="inspect-result-dataframe">Inspect result dataframe</h3>
<div class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Inspect either entire generated dataframe with </span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="co"># gdf</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="co"># or only the first rows</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>gdf.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Longitude</th>
      <th>Latitude</th>
      <th>geometry</th>
      <th>Bulk_Density_0-5cm</th>
      <th>Clay_0-5cm</th>
      <th>daily_rain_mean</th>
      <th>max_temp_median</th>
      <th>min_temp_median</th>
      <th>monthly_rain_sum</th>
      <th>landsat_barest_earth</th>
      <th>...</th>
      <th>ga_ls_ard_3_2022-10-25</th>
      <th>ga_ls_ard_3_2022-10-26</th>
      <th>ga_ls_ard_3_2022-10-27</th>
      <th>ga_ls_ard_3_2022-10-28</th>
      <th>ga_ls_ard_3_2022-10-29</th>
      <th>DEM</th>
      <th>Landscape_Slope</th>
      <th>Landscape_Aspect</th>
      <th>Landscape_Relief_300m</th>
      <th>ee_LANDSAT_500ed6ce_median</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>149.852680</td>
      <td>-30.264663</td>
      <td>POINT (149.85268 -30.26466)</td>
      <td>1.368779</td>
      <td>27.214527</td>
      <td>0.000000</td>
      <td>22.700001</td>
      <td>9.8</td>
      <td>189.500000</td>
      <td>1059</td>
      <td>...</td>
      <td>-999</td>
      <td>-999</td>
      <td>211</td>
      <td>-999</td>
      <td>-999</td>
      <td>244.658585</td>
      <td>1.046624</td>
      <td>209.138062</td>
      <td>10.463379</td>
      <td>0.930875</td>
    </tr>
    <tr>
      <th>1</th>
      <td>149.884838</td>
      <td>-30.265302</td>
      <td>POINT (149.88484 -30.26530)</td>
      <td>1.362662</td>
      <td>31.956041</td>
      <td>0.199951</td>
      <td>22.600000</td>
      <td>9.5</td>
      <td>189.000000</td>
      <td>1082</td>
      <td>...</td>
      <td>-999</td>
      <td>-999</td>
      <td>560</td>
      <td>-999</td>
      <td>-999</td>
      <td>264.428772</td>
      <td>1.001000</td>
      <td>279.542847</td>
      <td>6.037811</td>
      <td>0.292110</td>
    </tr>
    <tr>
      <th>2</th>
      <td>149.884838</td>
      <td>-30.265302</td>
      <td>POINT (149.88484 -30.26530)</td>
      <td>1.362662</td>
      <td>31.956041</td>
      <td>0.199951</td>
      <td>22.600000</td>
      <td>9.5</td>
      <td>189.000000</td>
      <td>1082</td>
      <td>...</td>
      <td>-999</td>
      <td>-999</td>
      <td>560</td>
      <td>-999</td>
      <td>-999</td>
      <td>264.428772</td>
      <td>1.001000</td>
      <td>279.542847</td>
      <td>6.037811</td>
      <td>0.292110</td>
    </tr>
    <tr>
      <th>3</th>
      <td>149.838791</td>
      <td>-30.278542</td>
      <td>POINT (149.83879 -30.27854)</td>
      <td>1.360451</td>
      <td>32.675858</td>
      <td>0.000000</td>
      <td>22.900000</td>
      <td>10.1</td>
      <td>173.199951</td>
      <td>1092</td>
      <td>...</td>
      <td>-999</td>
      <td>-999</td>
      <td>291</td>
      <td>-999</td>
      <td>-999</td>
      <td>233.005081</td>
      <td>0.841430</td>
      <td>242.743683</td>
      <td>4.798782</td>
      <td>0.902620</td>
    </tr>
    <tr>
      <th>4</th>
      <td>149.830843</td>
      <td>-30.275437</td>
      <td>POINT (149.83084 -30.27544)</td>
      <td>1.334362</td>
      <td>35.097813</td>
      <td>0.000000</td>
      <td>22.900000</td>
      <td>10.1</td>
      <td>173.199951</td>
      <td>1160</td>
      <td>...</td>
      <td>-999</td>
      <td>-999</td>
      <td>255</td>
      <td>-999</td>
      <td>-999</td>
      <td>230.575439</td>
      <td>1.062537</td>
      <td>242.921112</td>
      <td>5.204880</td>
      <td>0.873750</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 45 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get some general info about result table:</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>gdf.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'geopandas.geodataframe.GeoDataFrame'&gt;
RangeIndex: 82 entries, 0 to 81
Data columns (total 45 columns):
 #   Column                      Non-Null Count  Dtype   
---  ------                      --------------  -----   
 0   Longitude                   82 non-null     float64 
 1   Latitude                    82 non-null     float64 
 2   geometry                    82 non-null     geometry
 3   Bulk_Density_0-5cm          82 non-null     float32 
 4   Clay_0-5cm                  82 non-null     float32 
 5   daily_rain_mean             82 non-null     float32 
 6   max_temp_median             82 non-null     float32 
 7   min_temp_median             82 non-null     float32 
 8   monthly_rain_sum            82 non-null     float32 
 9   landsat_barest_earth        82 non-null     int16   
 10  ga_ls_ard_3_2022-9-30       82 non-null     int16   
 11  ga_ls_ard_3_2022-10-1       82 non-null     int16   
 12  ga_ls_ard_3_2022-10-2       82 non-null     int16   
 13  ga_ls_ard_3_2022-10-3       82 non-null     int16   
 14  ga_ls_ard_3_2022-10-4       82 non-null     int16   
 15  ga_ls_ard_3_2022-10-5       82 non-null     int16   
 16  ga_ls_ard_3_2022-10-6       82 non-null     int16   
 17  ga_ls_ard_3_2022-10-7       82 non-null     int16   
 18  ga_ls_ard_3_2022-10-8       82 non-null     int16   
 19  ga_ls_ard_3_2022-10-9       82 non-null     int16   
 20  ga_ls_ard_3_2022-10-10      82 non-null     int16   
 21  ga_ls_ard_3_2022-10-11      82 non-null     int16   
 22  ga_ls_ard_3_2022-10-12      82 non-null     int16   
 23  ga_ls_ard_3_2022-10-13      82 non-null     int16   
 24  ga_ls_ard_3_2022-10-14      82 non-null     int16   
 25  ga_ls_ard_3_2022-10-15      82 non-null     int16   
 26  ga_ls_ard_3_2022-10-16      82 non-null     int16   
 27  ga_ls_ard_3_2022-10-17      82 non-null     int16   
 28  ga_ls_ard_3_2022-10-18      82 non-null     int16   
 29  ga_ls_ard_3_2022-10-19      82 non-null     int16   
 30  ga_ls_ard_3_2022-10-20      82 non-null     int16   
 31  ga_ls_ard_3_2022-10-21      82 non-null     int16   
 32  ga_ls_ard_3_2022-10-22      82 non-null     int16   
 33  ga_ls_ard_3_2022-10-23      82 non-null     int16   
 34  ga_ls_ard_3_2022-10-24      82 non-null     int16   
 35  ga_ls_ard_3_2022-10-25      82 non-null     int16   
 36  ga_ls_ard_3_2022-10-26      82 non-null     int16   
 37  ga_ls_ard_3_2022-10-27      82 non-null     int16   
 38  ga_ls_ard_3_2022-10-28      82 non-null     int16   
 39  ga_ls_ard_3_2022-10-29      82 non-null     int16   
 40  DEM                         82 non-null     float32 
 41  Landscape_Slope             82 non-null     float32 
 42  Landscape_Aspect            82 non-null     float32 
 43  Landscape_Relief_300m       82 non-null     float32 
 44  ee_LANDSAT_500ed6ce_median  82 non-null     float64 
dtypes: float32(10), float64(3), geometry(1), int16(31)
memory usage: 10.9 KB</code></pre>
</div>
</div>
</section>
<section id="save-the-results-table" class="level3">
<h3 class="anchored" data-anchor-id="save-the-results-table">Save the results table</h3>
<p>Finally, the result dataframe table is saved as a csv file, which can be used now to do some awesome ML. In addition the results are also saved as a geo-spatial referenced geopackage (.gpkg), which can be used again as input for further analysis or to inspect and overlay data on other layers and basemaps. The geopackage is a standard georeferenced file format and can be opened with any geo-spatial package or interactive software (e.g., QGIS, Esri ArcGIS).</p>
<div class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the results table to a csv </span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>gdf.to_csv(os.path.join(settings.outpath, <span class="st">"results.csv"</span>), index <span class="op">=</span> <span class="va">True</span>, mode<span class="op">=</span><span class="st">'w'</span>)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Save also as geopackage</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>gdf.to_file(os.path.join(settings.outpath, <span class="st">"results.gpkg"</span>), driver<span class="op">=</span><span class="st">"GPKG"</span>)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Note: The deprecated warning below is a bug in geopandas and will be fixed in their bext version.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="overview-plot-of-all-processed-rasters" class="level3">
<h3 class="anchored" data-anchor-id="overview-plot-of-all-processed-rasters">Overview plot of all processed rasters</h3>
<p>This provides a quick overview to inspect all processed data layers with an overlay of the requested location points.</p>
<div class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot one of that datasets with the points on top</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>gh.utils.plot_rasters(rasters,lngs,lats,titles)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="p30-technical_files/figure-html/cell-26-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="done" class="level1">
<h1>Done!</h1>
<p>Now you have seen how aggregrate downloads occur within the <code>harvest.run</code> function. You can explore the files that have been output in the browser and take them for furhter analysis in your favourite software.</p>
<p>There are several more light processing tools, options, and functionality availble already for the power-users, which we are gradually exposing to the run function directly callable from the settings file.</p>
<p>Have a workflow you want automated? Or a data source that would be great to have in the Geodata-Harverser? <a href="https://github.com/Sydney-Informatics-Hub/geodata-harvester">Submit a feature or issue on the GitHub!</a> Or even better, make a pull-request and contribute to open-source software!</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../pydocs/p20-advanced.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><i class="fa-solid fa-hammer" aria-hidden="true"></i> 2: Advanced harvest configuration</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">© Sydney Informatics Hub, 2022</div>   
    <div class="nav-footer-right">Site built with <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>



</body></html>